# This is a Spack Environment file.
#
# It describes the set of packages to be installed when developing
# NESO, along with configuration settings.
spack:
  # add package specs to the `specs` list
  specs:
    - matrix:
        - [nec_reactions.reactions ^hdf5]
        - [
            ~enable_tests ^neso-particles~build_tests,
            +enable_tests ^neso-particles~build_tests,
            +enable_tests ^neso-particles+build_tests,
          ]
        - [
            ^neso.adaptivecpp compilationflow=omplibraryonly,
            ^neso.adaptivecpp compilationflow=ompaccelerated,
            ^neso.adaptivecpp compilationflow=cudallvm ^cuda@12.2.1,
            ^neso.adaptivecpp compilationflow=cudanvcxx ^cuda@12.2.1,
          ]
        - [ ^nec_reactions.googletest ]
        - [
          "%gcc@11.3.0:",  # if a gcc-11.3.0+ is not available comment out this option
          "%clang@18.1:"  # if clang-18.1.8 is not available comment out this option
          ]

  view: false
  concretizer:
    unify: false
  repos:
    - ${PWD}/Reactions-repo
    - ${PWD}/NESO-Spack
    - $spack/var/spack/repos/builtin
  develop:
    reactions:
      path: ${PWD}
      spec: reactions@working
    neso-particles:
      path: ${PWD}/neso-particles
      spec: neso-particles@working
