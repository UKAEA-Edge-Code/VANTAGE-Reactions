# This is a Spack Environment file.
#
# It describes the set of packages to be installed when developing
# NESO, along with configuration settings.
spack:
  # add package specs to the `specs` list
  specs:
  - matrix:
    - [nec_reactions.reactions ^nec_reactions.adaptivecpp sycl-device=CPU ^hdf5, nec_reactions.reactions+nvcxx
        ^nec_reactions.adaptivecpp sycl-device=NVGPU ^hdf5 ^cuda@12.2.1]
    - [~enable_tests ^neso-particles~build_tests, +enable_tests ^neso-particles~build_tests,
      +enable_tests ^neso-particles+build_tests]

  view: false
  concretizer:
    unify: false
  repos:
  - ${PWD}/Reactions-repo
  - ${PWD}/NESO-Spack
  - $spack/var/spack/repos/builtin
  develop:
    reactions:
      path: ${PWD}
      spec: reactions@working
    neso-particles:
      path: ${PWD}/neso-particles
      spec: neso-particles@working
